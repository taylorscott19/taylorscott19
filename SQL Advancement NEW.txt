CREATE PROCEDURE 
[dbo].[INSERT_INFORMATION] @FIRST_NAME VARCHAR(MAX), @LAST_NAME VARCHAR(MAX), @PERSON_ID VARCHAR(MAX)
INSERT INTO SCHEMA.PERSON (PERSON_ID, FIRST_NAME, LAST_NAME)
	(SELECT 
			PERSON_ID.M,
			FIRST_NAME.M,
			LAST_NAME.M
	FROM SCHEMA.MESSAGE M WHERE
			FIRST_NAME.M = @FIRST_NAME 
			AND LAST_NAME.M = @LAST_NAME
	);
[dbo].[INSERT_INFORMATION] @CONNECTION_ID VARCHAR(MAX), @PERSON_ID VARCHAR(MAX), @CONTACT_ID VARCHAR(MAX), @FAVORITE VARCHAR(MAX)
INSERT INTO SCHEMA.CONTACT_LIST (CONNECTION_ID, PERSON_ID, CONTACT_ID, FAVORITE)
	(SELECT 
			CONNECTION_ID.C
			PERSON_ID.C
			CONTACT_ID.C
			FAVORITE.C
	FROM SCHEMA.CONTACT C WHERE
			CONNECTION_ID.C= @CONNECTION_ID
			PERSON_ID.C= @PERSON_ID
			CONTACT_ID.C = @CONTACT_ID
			AND FAVORITE.C = @FAVORITE
	);

IF FIRST_NAME IS NOT NULL AND LAST_NAME IS NOT NULL
	DELETE FROM PERSON WHERE FIRST_NAME = " " AND LAST NAME= " ";

INSERT INTO CONTACT_LIST(CONNECTION_ID, PERSON_ID, CONTACT_ID, FAVORITE)
	VALUES(19, 9, 5, 'N')

IF CONTACT_ID FROM CONTACT_LIST = 1
	SET FAVORITE = 'Y';

ELSE: 
	SET FAVORITE ='N'; 








